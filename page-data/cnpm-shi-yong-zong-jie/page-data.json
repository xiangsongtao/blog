{"componentChunkName":"component---src-templates-blog-post-js","path":"/cnpm-shi-yong-zong-jie/","result":{"data":{"site":{"siteMetadata":{"title":"Attila","cover":"/background/1.jpg","description":"Thoughts, stories and ideas.","keywords":["烈风裘的博客","X-Blog","Attila","Gatsby","前端成长记录"],"tagCover":"/background/5.jpg","archiveCover":"/background/escape-flight.png","siteUrl":"https://xiangst0816.github.io/blog","logo":"","navigation":true,"subscribe":true}},"allAuthorJson":{"totalCount":2,"edges":[{"node":{"id":"烈风裘","bio":"一往无前, 直到云开雾散!","avatar":"/avatar/me.jpeg","cover":"/background/photo-1503197979108-c824168d51a8.jpeg","github":"https://github.com/xiangsongtao","twitter":"","zhihu":"","weibo":"","facebook":"","website":"https://xiangsongtao.github.io/blog/","location":"HangZhou, China"}},{"node":{"id":"WALL-E","bio":"还有要清理的吗?","avatar":"/avatar/cleaner.jpg","cover":"","github":null,"twitter":null,"zhihu":null,"weibo":null,"facebook":null,"website":null,"location":"Earth"}}]},"master":{"id":"烈风裘","bio":"一往无前, 直到云开雾散!","avatar":"/avatar/me.jpeg","cover":"/background/photo-1503197979108-c824168d51a8.jpeg","github":"https://github.com/xiangsongtao","twitter":"","zhihu":"","weibo":"","facebook":"","website":"https://xiangsongtao.github.io/blog/","location":"HangZhou, China"},"currentPost":{"html":"<h2 id=\"安装\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%85\" aria-label=\"安装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装</h2>\n<p>全局安装，<a href=\"https://npm.taobao.org\" target=\"_target\" rel=\"nofollow\">详情</a>：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install tnpm -g --registry=https://registry.npm.taobao.org</code></pre></div>\n<h2 id=\"使用问题\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98\" aria-label=\"使用问题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用问题</h2>\n<p>cnpm是使用软连方式安装，所以在IDE使用时，会遇到两个问题：</p>\n<ol>\n<li>某些 IDE 无法正确识别软链，会导致循环索引。</li>\n<li><code class=\"language-text\">node_modules</code> 目录下同时存在软链，不方便查看。</li>\n</ol>\n<p>第一点，安装 <a href=\"https://www.npmjs.com/package/webstorm-disable-index\" target=\"_target\" rel=\"nofollow\">webstorm-disable-index</a> 这个依赖包即可。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ tnpm i webstorm-disable-index --save-dev\n$ ls .idea/</code></pre></div>\n<p>第二点，你可以在 <code class=\"language-text\">VSCode</code> 配置：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;files.exclude&quot;: {\n  &quot;**/node_modules/_*@*&quot;: true,\n},</code></pre></div>\n<p>在 <code class=\"language-text\">WebStorm</code> 配置 <code class=\"language-text\">File Types</code> 的 <code class=\"language-text\">Ignore</code> 增加 <code class=\"language-text\">_*@*;</code> 即可。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.14285714285715%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7UlEQVQ4y42TSY/TQBBG/YuSyWbHcbfd7va+O3a2gUHA3FkkJC5ckBA3fvNHdSeMEJNBOTyV3S6XXV2vrSjfIiF8WcL1UyzdEEGoIKQC8wVWjovFyjHMl/Z/mS1sWGV3Qt4cwMIKQdRApi32h5Nh3B+Q5aX5wC34QsKSaY+yPSJMukvRCl0/YBj36IcdVJzC44H5Ww0PQrB/+bNO0VJZj258gMqobVVDxLUpNOyOhqYbEKUFYsIPIyogX8YPYYVJi2Z4jao7QhcX9IdSCgjBEV4IfM/AuQvOXoaxDSy2+4H68Rf44SdW7Xesm68oTl/QvPkGt/4Eu/gAp/xInOP6KvSs+ox19kgtl69Qj+/BohE83lPcQhU7xNURG9XBU/0NnPM2NANLJg22+wfk1WjaDWQOxjk8Ri36nNq8EcrV75mh1P09tI8+aaN95LTB56mFJj5HPuX8jZlyQcq0NBTtoNFGXbwT0iRoZZ7BGMGvPjMeDoe30ILroiKqycstTX5HawPSskFWtUgJHfOqQbp9h7S9pxNWIinqS05j9LJEXNBFCRnn4CIm2yNjvOHKadBHMlA5bU1ipNcfkFGMIC7BFBXceC4cx4aztrF2HbiETfd38wWmdzPD5BKfrqdTTAids1iuMJvNMZktMZ2v8BuaPdCd6+r9yAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"webstorm ignore 49004433\"\n        title=\"webstorm ignore 49004433\"\n        src=\"/blog/static/f5f380733d592fe156168a80a677be49/f88f5/webstorm_ignore.49004433.png\"\n        srcset=\"/blog/static/f5f380733d592fe156168a80a677be49/e1650/webstorm_ignore.49004433.png 210w,\n/blog/static/f5f380733d592fe156168a80a677be49/8cae7/webstorm_ignore.49004433.png 420w,\n/blog/static/f5f380733d592fe156168a80a677be49/f88f5/webstorm_ignore.49004433.png 840w,\n/blog/static/f5f380733d592fe156168a80a677be49/57a2b/webstorm_ignore.49004433.png 1260w,\n/blog/static/f5f380733d592fe156168a80a677be49/b5d14/webstorm_ignore.49004433.png 1680w,\n/blog/static/f5f380733d592fe156168a80a677be49/4636e/webstorm_ignore.49004433.png 2000w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>","timeToRead":1,"wordCount":{"paragraphs":9,"sentences":9,"words":25},"fields":{"slug":"/cnpm-shi-yong-zong-jie/","relativePath":"2019/2019-9-22---cnpm-shi-yong-zong-jie/index.md"},"excerpt":"安装 全局安装，详情： 使用问题 cnpm是使用软连方式安装，所以在IDE使用时，会遇到两个问题： 某些 IDE 无法正确识别软链，会导致循环索引。  目录下同时存在软链，不方便查看。 第一点，安装 webstorm…","frontmatter":{"title":"cnpm使用总结","date":"22 Sep 2019","tags":["未归档"],"cover":"","comments":true,"author":"烈风裘"}},"nextPost":{"html":"<h1 id=\"如何进行nodejs版本管理\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8Cnodejs%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86\" aria-label=\"如何进行nodejs版本管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何进行Nodejs版本管理</h1>\n<h2 id=\"使用场景\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\" aria-label=\"使用场景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用场景</h2>\n<p>一般来说，直接从 <a href=\"https://nodejs.org/\" target=\"_target\" rel=\"nofollow\">Node.js 官网</a>下载对应的安装包，即可完成环境配置。</p>\n<p>但在<strong>本地开发</strong>的时候，经常需要快速更新或切换版本。</p>\n<p>社区有 <a href=\"https://github.com/creationix/nvm\" target=\"_target\" rel=\"nofollow\">nvm</a>、<a href=\"https://github.com/tj/n\" target=\"_target\" rel=\"nofollow\">n</a> 等方案，我们推荐跨平台的 <a href=\"https://github.com/jasongin/nvs\" target=\"_target\" rel=\"nofollow\">nvs</a>。</p>\n<h2 id=\"如何安装\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85\" aria-label=\"如何安装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何安装</h2>\n<h3 id=\"linux--macos-环境\" style=\"position:relative;\"><a href=\"#linux--macos-%E7%8E%AF%E5%A2%83\" aria-label=\"linux  macos 环境 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Linux / macOS 环境</h3>\n<p>通过 Git Clone 对应的项目即可。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ export NVS_HOME=&quot;$HOME/.nvs&quot;\n$ git clone https://github.com/jasongin/nvs --depth=1 &quot;$NVS_HOME&quot;\n$ . &quot;$NVS_HOME/nvs.sh&quot; install</code></pre></div>\n<blockquote>\n<p>注意，安装程序会在<code class=\"language-text\">~/.bashrc</code>, <code class=\"language-text\">~/.profile</code>, 或者 <code class=\"language-text\">~/.zshrc</code> 中写入命令，先保证这些文件是存在的！</p>\n</blockquote>\n<h3 id=\"windows-环境\" style=\"position:relative;\"><a href=\"#windows-%E7%8E%AF%E5%A2%83\" aria-label=\"windows 环境 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Windows 环境</h3>\n<p>由于 Windows 环境配置比较复杂，所以 Windows 环境下还是推荐使用 <code class=\"language-text\">msi</code> 文件完成初始化工作。</p>\n<p>访问 <a href=\"https://github.com/jasongin/nvs/releases\" target=\"_target\" rel=\"nofollow\">nvs/releases</a> 下载最新版本的 <code class=\"language-text\">nvs.msi</code>，然后双击安装即可。</p>\n<h2 id=\"配置镜像地址\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%9C%B0%E5%9D%80\" aria-label=\"配置镜像地址 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置镜像地址</h2>\n<p>在国内由于大家都懂的原因，需要把对应的镜像地址修改下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ nvs remote node https://npm.taobao.org/mirrors/node/\n$ nvs remote\ndefault             node\nchakracore          https://github.com/nodejs/node-chakracore/releases/\nchakracore-nightly  https://nodejs.org/download/chakracore-nightly/\nnightly             https://nodejs.org/download/nightly/\nnode                https://nodejs.org/dist/</code></pre></div>\n<h2 id=\"使用指南\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97\" aria-label=\"使用指南 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用指南</h2>\n<p>通过以下命令，即可非常简单的安装 Node.js 最新的 LTS 版本。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 安装最新的 LTS 版本\n$ nvs add lts\n\n# 配置为默认版本\n$ nvs link lts</code></pre></div>\n<p>安装其他版本：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 安装其他版本\n$ nvs add 8\n\n# 查看已安装的版本\n$ nvs ls\n\n# 在当前 Shell 切换版本\n$ nvs use 8</code></pre></div>\n<p>更多指令参见 <code class=\"language-text\">nvs --help</code> 。</p>\n<h2 id=\"共用-npm-全局模块（必须）\" style=\"position:relative;\"><a href=\"#%E5%85%B1%E7%94%A8-npm-%E5%85%A8%E5%B1%80%E6%A8%A1%E5%9D%97%EF%BC%88%E5%BF%85%E9%A1%BB%EF%BC%89\" aria-label=\"共用 npm 全局模块（必须） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>共用 npm 全局模块（必须）</h2>\n<p>使用 <code class=\"language-text\">nvs</code> 时，默认的 <code class=\"language-text\">prefix</code> 是当前激活的 Node.js 版本的安装路径。</p>\n<p>带来一个问题是：切换版本之后，之前安装全局命令模块需要重新安装，非常不方便。</p>\n<p>解决方案是配置统一的全局模块安装路径到 <code class=\"language-text\">~/.npm-global</code>，如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mkdir -p ~/.npm-global\n$ npm config set prefix ~/.npm-global</code></pre></div>\n<p>还需配置环境变量到 <code class=\"language-text\">~/.bashrc</code> 或 <code class=\"language-text\">~/.zshrc</code> 文件里面：</p>\n<blockquote>\n<p>缺少了这步，全局安装的命令都不会生效！</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ echo &quot;export PATH=~/.npm-global/bin:$PATH&quot; &gt;&gt; ~/.zshrc\n$ source ~/.zshrc</code></pre></div>","timeToRead":3,"wordCount":{"paragraphs":24,"sentences":24,"words":75},"fields":{"slug":"/ru-he-jin-hang-nodejs/","relativePath":"2019/2019-9-22---ru-he-jin-hang-nodejs/index.md"},"excerpt":"如何进行Nodejs版本管理 使用场景 一般来说，直接从 Node.js 官网下载对应的安装包，即可完成环境配置。 但在本地开发的时候，经常需要快速更新或切换版本。 社区有 nvm、n 等方案，我们推荐跨平台的 nvs…","frontmatter":{"title":"如何进行Nodejs版本管理","date":"22 Sep 2019","tags":["未归档"],"cover":"","comments":true,"author":"烈风裘"}},"prevPost":{"html":"<h2 id=\"背景\" style=\"position:relative;\"><a href=\"#%E8%83%8C%E6%99%AF\" aria-label=\"背景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>背景</h2>\n<p>在现实生活中，存在实现一个目标有多种策略可供选择的情况，比如：出门旅行的多种目的地、乘车方式等；超市打折促销的方式；吃饭做菜时，土豆丝的多种做法等；</p>\n<p><strong>在软件开发过程中也会遇到此类问题（模式），当实现某个功能存在多种策略时，我们根据环境（Context）的不同，选择指定的策略</strong>。比如进行排序，有冒泡排序、选择排序、插入排序、二叉树排序等。</p>\n<blockquote>\n<p>反例介绍</p>\n</blockquote>\n<p>当代码中存在根据环境进行多重if-else判断时，增加策略会导致源码有较大修改，导致条件语句结构复杂不移维护，违背<strong>开闭原则</strong>。此时采用策略模式就能很好的解决该问题。</p>\n<h2 id=\"定义及特点\" style=\"position:relative;\"><a href=\"#%E5%AE%9A%E4%B9%89%E5%8F%8A%E7%89%B9%E7%82%B9\" aria-label=\"定义及特点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>定义及特点</h2>\n<p>策略模式（Strategy）：该模式定义了一些列算法，并将算法封装起来，使他们能够互相替换，且算法的变化不影响使用算法的用户（Context）。策略模式属于对象行为模式，将算法具体实现进行封装（把<strong>使用算法</strong>和<strong>算法实现</strong>分割开来，<strong>算法实现</strong>委派不同的对象进行管理）。</p>\n<h3 id=\"1-主要优点\" style=\"position:relative;\"><a href=\"#1-%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9\" aria-label=\"1 主要优点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 主要优点</h3>\n<ol>\n<li>多重条件语句不易维护，而使用策略模式可以避免使用多重条件语句。</li>\n<li>策略模式提供了一系列的可供重用的算法族，恰当使用继承可以把算法族的公共代码转移到父类里面，从而避免重复的代码。</li>\n<li>策略模式可以提供相同行为的不同实现，客户可以根据不同时间或空间要求选择不同的。</li>\n<li>策略模式提供了对开闭原则的完美支持，可以在不修改原代码的情况下，灵活增加新算法。</li>\n<li>策略模式把算法的使用放到环境类中，而算法的实现移到具体策略类中，实现了二者的分离。</li>\n</ol>\n<h3 id=\"2-主要缺点\" style=\"position:relative;\"><a href=\"#2-%E4%B8%BB%E8%A6%81%E7%BC%BA%E7%82%B9\" aria-label=\"2 主要缺点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 主要缺点</h3>\n<ol>\n<li>客户端必须理解所有策略算法的区别，以便适时选择恰当的算法类。</li>\n<li>策略模式造成很多的策略类。</li>\n</ol>\n<h2 id=\"结构及实现\" style=\"position:relative;\"><a href=\"#%E7%BB%93%E6%9E%84%E5%8F%8A%E5%AE%9E%E7%8E%B0\" aria-label=\"结构及实现 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结构及实现</h2>\n<p>策略模式是准备一组算法，并将这组算法封装到一系列的<strong>策略类</strong>里面，作为一个抽象策略类的子类。<strong>策略模式的重心不是如何实现算法，而是如何组织这些算法</strong>，从而让程序结构更加灵活，具有更好的维护性和扩展性，现在我们来分析其基本结构和实现方法。</p>\n<h3 id=\"1-模式的结构\" style=\"position:relative;\"><a href=\"#1-%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BB%93%E6%9E%84\" aria-label=\"1 模式的结构 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 模式的结构</h3>\n<p>策略模式的主要角色如下。</p>\n<ol>\n<li>抽象策略（Strategy）类：定义了一个公共接口，各种不同的算法以不同的方式实现这个接口，环境角色使用这个接口调用不同的算法，一般使用接口或抽象类实现。</li>\n<li>具体策略（Concrete Strategy）类：实现了抽象策略定义的接口，提供具体的算法实现。</li>\n<li>环境（Context）类：持有一个策略类的引用，最终给客户端调用。</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.047619047619044%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQoz32S4Y6CQAyEef8H45dBjAkqipigoKKCAgZQ6eXrZQ1nOJtMdtPtzky7a6VpKvv9Xna7na51XUtVVbpPkkTzrI/HQ7quk9fr9Qf9HHtrOp3KeDwWx3FkMpmIEXBdVzEajfSsKAohzMX/YMVx/HYRRZFexOF6vZbtdivH41EF7vf7oEOcg+fz+UsovSDJRUDxZ+AegfP5LJ7nqWhZlmoiyzIltowSZGC5XMp8Ptfc7XZTIHC9XmWz2chsNpPVaqWEOD+dTnK5XFRECbFJ0GYYhlocBIGOgFzbtipEMY5s21YwV0Ad7iB9E5rZcLH/coQ5J/I8V1e0DSAxv8KMyfr2Yv3hE4fDQRaLhfi+r27pBFKEICSsIYIhYlbmxcPQJuSsOGW+uNRX/ubwE7RnvkgfTdPorKn5AfCu/180l8WjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"策略模式\"\n        title=\"策略模式\"\n        src=\"/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/f88f5/image-20191004145847644.png\"\n        srcset=\"/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/e1650/image-20191004145847644.png 210w,\n/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/8cae7/image-20191004145847644.png 420w,\n/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/f88f5/image-20191004145847644.png 840w,\n/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/57a2b/image-20191004145847644.png 1260w,\n/blog/static/6c744d11a41b9f1a792f9b67d6b3de7b/609d5/image-20191004145847644.png 1292w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">策略模式</figcaption>\n  </figure></p>\n<h3 id=\"2-模式的实现\" style=\"position:relative;\"><a href=\"#2-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0\" aria-label=\"2 模式的实现 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 模式的实现</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">IStrategy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Context</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> strategy<span class=\"token operator\">:</span> IStrategy<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setStrategy</span><span class=\"token punctuation\">(</span>strategy<span class=\"token operator\">:</span> IStrategy<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>strategy <span class=\"token operator\">=</span> strategy<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">getStrategy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> IStrategy <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>strategy<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>strategy<span class=\"token punctuation\">.</span><span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ConcreteStrategyA</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IStrategy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'具体策略A的策略方法被访问！'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ConcreteStrategyB</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IStrategy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'具体策略B的策略方法被访问！'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> csa <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConcreteStrategyA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> csb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConcreteStrategyB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">setStrategy</span><span class=\"token punctuation\">(</span>csa<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'------------'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">setStrategy</span><span class=\"token punctuation\">(</span>csb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">strategyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 具体策略A的策略方法被访问！</span>\n<span class=\"token comment\">// ------------</span>\n<span class=\"token comment\">// 具体策略B的策略方法被访问！</span></code></pre></div>\n<h2 id=\"应用场景\" style=\"position:relative;\"><a href=\"#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\" aria-label=\"应用场景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>应用场景</h2>\n<p>策略模式在很多地方用到，如 JavaSE 中的容器布局管理就是一个典型的实例，Java SE 中的每个容器都存在多种布局供用户选择。在程序设计中，通常在以下几种情况中使用策略模式较多。</p>\n<ol>\n<li>一个系统需要动态地在几种算法中选择一种时，可将每个算法封装到策略类中。</li>\n<li>一个类定义了多种行为，并且这些行为在这个类的操作中以多个条件语句的形式出现，可将每个条件分支移入它们各自的策略类中以代替这些条件语句。</li>\n<li>系统中各算法彼此完全独立，且要求对客户隐藏具体算法的实现细节时。</li>\n<li>系统要求使用算法的客户不应该知道其操作的数据时，可使用策略模式来隐藏与算法相关的<strong>数据结构</strong>。</li>\n<li>多个类只区别在表现行为不同，可以使用策略模式，在运行时动态选择具体要执行的行为</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.523809523809526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABNklEQVQoz4WS6YrCQBCE5/0fLSj4QzDmUCMmXqh459DU8jXMErLiDhTT6c7UdFWPe71eut/vOp/PejweKstSl8vFcsTX69VqVVXp/X6rbVvbP4Gaez6fSpJEw+HQ9jzPNRqNLC6KQuPxWIPBQOv1WlzOoW9wdJFlmZbLpeI4thiyxWKhNE01m82stlqt/nTEBV2Qc112kshG5u12U13X6i/s2O/3OhwOCsNQ8/nc7DmdTlb7JYSdhVd0ttlsLM83HmINB7EEBViBIv7b7XYGSJ0noiOkIXUymWi73RoJoOumaQzk8TsIAusQUkDXRtiVSzddmeT7MXZwKZ5CwjfwL8N5uf7At2fBOh6PiqJI0+nUBshQaQIyiN2n0fsL+jk/FD80dmygDin2uP/eVR/+IPaArs/UfgDypwIdZW7LWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"策略模式示例\"\n        title=\"策略模式示例\"\n        src=\"/blog/static/c79057e6719d12bebcb6c6422ae3c05f/f88f5/image-20191004145929189.png\"\n        srcset=\"/blog/static/c79057e6719d12bebcb6c6422ae3c05f/e1650/image-20191004145929189.png 210w,\n/blog/static/c79057e6719d12bebcb6c6422ae3c05f/8cae7/image-20191004145929189.png 420w,\n/blog/static/c79057e6719d12bebcb6c6422ae3c05f/f88f5/image-20191004145929189.png 840w,\n/blog/static/c79057e6719d12bebcb6c6422ae3c05f/57a2b/image-20191004145929189.png 1260w,\n/blog/static/c79057e6719d12bebcb6c6422ae3c05f/04a4c/image-20191004145929189.png 1500w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">策略模式示例</figcaption>\n  </figure></p>\n<h2 id=\"拓展\" style=\"position:relative;\"><a href=\"#%E6%8B%93%E5%B1%95\" aria-label=\"拓展 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>拓展</h2>\n<p>在一个使用策略模式的系统中，当存在的策略很多时，客户端管理所有策略算法将变得很复杂，如果在环境类中使用<strong>策略工厂模式</strong>来管理这些策略类将大大减少客户端的工作复杂度，其结构图如图所示。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.857142857142854%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQoz4WSa8uCQBCF9///M0HNLAk/WHY1K81b2kU7cQbmRSJ4Bw5ru+yZOc9mTqcTjscj9vs9rtcrHo8HLpeL7B0OB5zPZ7xeL7zfbwzDIKt+q3SPMp7nYTKZwLZtLBYLFEWB2WwG13XhOA7m8znqugar7/s/k3FxX89MlmVQcZqqqpCmKfI8F3Pq+XzKRRpzeioIAmkchqHcKcsSTdPAjDsx/nQ6Rdu2uN/v6LpOEHC93W7Y7XbwfV9MmIwp+JtoOBAbGmVAfsvlElEUCU9ORjPyoxiJXC3LEiM2pulqtZJBOKVMqIB/1Rg2i9E5BS9SasLpmYrn5terfb+eNqRBHMei9XotCDabjTDlGZOY8d9hbPS9xyJ48tputyIi4JokiTAkazOO9Z/4UIxFnspWpbw/fWKxArA+jnEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"策略工厂模式\"\n        title=\"策略工厂模式\"\n        src=\"/blog/static/e507711141bc3b2b7370af7d2b568c8c/f88f5/image-20191004145945184.png\"\n        srcset=\"/blog/static/e507711141bc3b2b7370af7d2b568c8c/e1650/image-20191004145945184.png 210w,\n/blog/static/e507711141bc3b2b7370af7d2b568c8c/8cae7/image-20191004145945184.png 420w,\n/blog/static/e507711141bc3b2b7370af7d2b568c8c/f88f5/image-20191004145945184.png 840w,\n/blog/static/e507711141bc3b2b7370af7d2b568c8c/57a2b/image-20191004145945184.png 1260w,\n/blog/static/e507711141bc3b2b7370af7d2b568c8c/b5d14/image-20191004145945184.png 1680w,\n/blog/static/e507711141bc3b2b7370af7d2b568c8c/f6042/image-20191004145945184.png 1720w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">策略工厂模式</figcaption>\n  </figure></p>","timeToRead":4,"wordCount":{"paragraphs":36,"sentences":36,"words":122},"fields":{"slug":"/design-patterns-strategy-patterns/","relativePath":"2019/2019-10-04---design-patterns-strategy-patterns/index.md"},"excerpt":"…","frontmatter":{"title":"设计模式「策略模式」","date":"04 Oct 2019","tags":["设计模式"],"cover":"","comments":true,"author":"烈风裘"}}},"pageContext":{"curr":"/cnpm-shi-yong-zong-jie/","prev":"/design-patterns-strategy-patterns/","next":"/ru-he-jin-hang-nodejs/"}},"staticQueryHashes":["3240721340","63159454"]}