(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{RPjP:function(e,t,a){"use strict";e.exports=a("SLms")},SLms:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=i(a("q1tI")),s=i(a("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=["shortname","identifier","title","url","category_id","onNewComment","language"],m=!1;function p(e,t){var a=t.onNewComment,n=t.language,r=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["onNewComment","language"]);for(var o in r)e.page[o]=r[o];e.language=n,a&&(e.callbacks={onNewComment:[a]})}var h=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.loadDisqus()}},{key:"componentDidUpdate",value:function(){this.loadDisqus()}},{key:"shouldComponentUpdate",value:function(e,t){return e.identifier!==this.props.identifier}},{key:"render",value:function(){var e=this,t=Object.keys(this.props).reduce((function(t,a){return u.some((function(e){return e===a}))?t:n({},t,function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},a,e.props[a]))}),{});return o.default.createElement("div",t,o.default.createElement("div",{id:"disqus_thread"}))}},{key:"addDisqusScript",value:function(){if(!m){var e=this.disqus=document.createElement("script"),t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];e.async=!0,e.type="text/javascript",e.src="//"+this.props.shortname+".disqus.com/embed.js",t.appendChild(e),m=!0}}},{key:"loadDisqus",value:function(){var e=this,t={};u.forEach((function(a){"shortname"!==a&&e.props[a]&&(t[a]=e.props[a])})),"undefined"!=typeof DISQUS?DISQUS.reset({reload:!0,config:function(){p(this,t),this.page.url=this.page.url.replace(/#/,"")+"#!newthread"}}):(window.disqus_config=function(){p(this,t)},this.addDisqusScript())}}]),t}(o.default.Component);h.displayName="DisqusThread",h.propTypes={id:s.default.string,shortname:s.default.string.isRequired,identifier:s.default.string,title:s.default.string,url:s.default.string,category_id:s.default.string,onNewComment:s.default.func,language:s.default.string},h.defaultProps={url:"undefined"==typeof window?null:window.location.href},t.default=h},SbOt:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a.n(n);function o(e){var t=e.bio,a=e.count,n=e.location,o=e.website,s=e.twitter,i=e.facebook,c=e.github,l=e.weibo,u=[];return void 0!==t&&t&&u.push(r.a.createElement("p",{key:"bio",className:"post-author-about"},t)),void 0!==a&&u.push(r.a.createElement("span",{key:"count",className:"post-author-stats"},r.a.createElement("i",{className:"icon icon-pencil"}),0===a?"No Posts":1===a?a+" Post":a+" Posts")),n&&u.push(r.a.createElement("span",{key:"location",className:"post-author-location"},r.a.createElement("i",{className:"icon icon-location"}),n)),o&&u.push(r.a.createElement("span",{key:"website",className:"post-author-website"},r.a.createElement("i",{className:"icon icon-link"}),r.a.createElement("a",{target:"_blank",href:o,rel:"noopener noreferrer"},"Website"))),s&&u.push(r.a.createElement("span",{key:"twitter",className:"post-author-twitter"},r.a.createElement("i",{className:"icon icon-twitter"}),r.a.createElement("a",{target:"_blank",href:"https://twitter.com/"+s,rel:"noopener noreferrer"},"Twitter"))),i&&u.push(r.a.createElement("span",{key:"facebook",className:"post-author-facebook"},r.a.createElement("i",{className:"icon icon-facebook"}),r.a.createElement("a",{target:"_blank",href:"https://facebook.com/"+i,rel:"noopener noreferrer"},"Facebook"))),c&&u.push(r.a.createElement("span",{key:"github",className:"post-author-github"},r.a.createElement("i",{className:"icon icon-github"}),r.a.createElement("a",{target:"_blank",href:c,rel:"noopener noreferrer"},"Github"))),l&&u.push(r.a.createElement("span",{key:"weibo",className:"post-author-weibo"},r.a.createElement("i",{className:"icon icon-sina-weibo"}),r.a.createElement("a",{target:"_blank",href:l,rel:"noopener noreferrer"},"Weibo"))),u}},dU0I:function(e,t){var a="/",n="https://xiangsongtao.com",r="UA-114740261-3",o="/favicons/favicon.png",s="/";({}).CI&&"github"==={}.DEPLOY&&(r="UA-114740261-4",n="https://xiangst0816.github.io"+(a="/blog"),o=o,s=(a+s).replace(/\/\//gi,"/")),e.exports={siteMetadata:{title:"Attila",description:"Thoughts, stories and ideas.",author:"@烈风裘",keywords:["烈风裘的博客","X-Blog","Attila","Gatsby","前端成长记录"],cover:"/background/1.jpg",tagCover:"/background/5.jpg",archiveCover:"/background/escape-flight.png",logo:"",language:"zh-CN",navigation:!0,subscribe:!0,siteUrl:n},pathPrefix:a,trackingId:r,faviconUrl:o,start_url:s,shortName:"xiangst"}},vmZo:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("dI71"),r=a("q1tI"),o=a.n(r),s=a("eIB4"),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.avatar,a=e.name,n=e.className,r=t&&t.indexOf("http")>-1?t:Object(s.a)(t);return o.a.createElement("figure",{className:n,title:a},t&&o.a.createElement("img",{src:r,alt:a}))},t}(o.a.PureComponent)},yZlL:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O})),a.d(t,"pageQuery",(function(){return j}));var n=a("KQm4"),r=a("dI71"),o=a("q1tI"),s=a.n(o),i=a("Wbzz"),c=a("M4XY"),l=a.n(c),u=a("SbOt"),m=a("EYWl"),p=a("vmZo"),h=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.title,n=t.url;return s.a.createElement("div",{className:"post-share"},s.a.createElement("a",{className:"twitter",href:"https://twitter.com/share?text="+a+"&url="+n,onClick:function(){return window.open(e.href,"twitter-share","width=550,height=235"),!1}},s.a.createElement("i",{className:"icon icon-twitter"}),s.a.createElement("span",{className:"hidden"},"Twitter")),s.a.createElement("a",{className:"facebook",href:"https://www.facebook.com/sharer/sharer.php?u="+n,onClick:function(){return window.open(e.href,"facebook-share","width=580,height=296"),!1}},s.a.createElement("i",{className:"icon icon-facebook"}),s.a.createElement("span",{className:"hidden"},"Facebook")),s.a.createElement("a",{className:"googleplus",href:"https://plus.google.com/share?url="+n,onClick:function(){return window.open(e.href,"google-plus-share","width=490,height=530"),!1}},s.a.createElement("i",{className:"icon icon-googleplus"}),s.a.createElement("span",{className:"hidden"},"Google+")),s.a.createElement("div",{className:"clear"}))},t}(s.a.PureComponent),f=a("9QiF"),d=a("TSYQ"),g=a.n(d),E=function(e){function t(t){var a;return(a=e.call(this,t)||this).unRegisterListenersCollection=[],a.postContentElement=null,a.state={progress:0,isReady:!1},a}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this,t=document.documentElement.clientHeight,a=this.postContentElement.offsetHeight,n=this.postContentElement.offsetTop,r=function(){var r=window.scrollY;requestAnimationFrame((function(){if(a>=1){var o=n+a,s=100-(o-(r+t))/(o-t)*100;e.setState({progress:s,isReady:s>100})}}))};r(),Object(f.a)(window,"scroll",r,{passive:!0},this.unRegisterListenersCollection),Object(f.a)(window,"resize",r,{passive:!0},this.unRegisterListenersCollection),Object(f.a)(window,"orientationchange",r,{passive:!0},this.unRegisterListenersCollection)},a.componentWillUnmount=function(){this.unRegisterListenersCollection.forEach((function(e){return e()}))},a.render=function(){var e=this,t=this.props.html,a=this.state,n=a.progress,r=a.isReady;return s.a.createElement("section",{className:"post-content",ref:function(t){e.postContentElement=t}},s.a.createElement("div",{className:g()("progress-container",{ready:r})},s.a.createElement("span",{className:"progress-bar",style:{width:n+"%"}})),s.a.createElement("article",{className:"markdown-body",dangerouslySetInnerHTML:{__html:t}}))},t}(s.a.PureComponent),b=a("rY4l"),v=a("RPjP"),w=a.n(v),N=a("dU0I"),y=a.n(N).a.shortName,k=function(e){function t(t){var a;return(a=e.call(this,t)||this).onSnackbarDismiss=function(){},a.notifyAboutComment=function(){},a.showDisqus=function(){a.setState({showDisqus:!0},(function(){a.timer=setTimeout((function(){"undefined"==typeof DISQUS&&(clearTimeout(a.timer),a.setState({disqusLoadedFailure:!0}))}),5e3)}))},a.state={showDisqus:!1,disqusLoadedFailure:!1},a}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.slug,n=t.title,r=t.showComments,o=this.state.showDisqus;if(!y||!r)return null;var i=function(){return o?s.a.createElement(w.a,{shortname:y,identifier:a,title:n,onNewComment:e.notifyAboutComment}):s.a.createElement("a",{id:"show-disqus",className:"post-comments-activate",onClick:e.showDisqus,rel:"noopener noreferrer",href:"javascript:void(0)"},"Show Comments")};return s.a.createElement("section",{className:g()("post-comments",{activated:o})},this.state.disqusLoadedFailure?s.a.createElement("p",{className:"post-comments-disqus-error"},"🚧 Failed to load Disqus!"):s.a.createElement(i,null))},t}(s.a.PureComponent),C=a("7oih"),O=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.data,t=e.currentPost,a=e.prevPost,r=e.nextPost,o=e.site,c=e.master,f=this.props.pageContext,d=f.next,g=f.prev,v=t.frontmatter,w=o.siteMetadata,N=w.logo,y=w.cover,O=w.navigation,j=w.siteUrl,P=v.author||c,q=v.cover?v.cover:y||!1,_=t.fields,x=_.relativePath,S=_.slug,D="https://github.com/xiangsongtao/blog/edit/master/blog/"+x,L=""+j+S,I=this.props.data.allAuthorJson.edges.map((function(e){return Object.assign({},e.node)})).find((function(e){return e.id===P}));return s.a.createElement(C.a,{location:this.props.location},s.a.createElement(m.a,{title:v.title,description:t.excerpt,keywords:[v.title,I.id].concat(Object(n.a)(v.tags))}),s.a.createElement(b.a,{logo:N,cover:q,hideNavBack:!1,navigation:O,isPost:!0},s.a.createElement("h1",{className:"post-title"},v.title),s.a.createElement("div",{className:"post-meta"},s.a.createElement("div",{className:"post-meta-inner"},s.a.createElement(i.Link,{to:"/author/"+l()(I.id)+"/"},I.id)," |"," ",s.a.createElement("time",null,v.date," | ",t.timeToRead," min read")," ","|"," ",s.a.createElement("a",{target:"_target",href:D,rel:"noopener noreferrer"},s.a.createElement("i",{className:"icon icon-github"})," Edit this page")))),s.a.createElement("main",{className:"content",role:"main"},s.a.createElement("article",{className:"post"},s.a.createElement("div",{className:"inner"},s.a.createElement(E,{html:t.html}),s.a.createElement("ul",{className:"post-copyright"},s.a.createElement("li",null,s.a.createElement("strong",null,"本文作者："),I.id),s.a.createElement("li",null,s.a.createElement("strong",null,"本文题目："),v.title),s.a.createElement("li",null,s.a.createElement("strong",null,"本文链接："),s.a.createElement("a",{href:L,target:"_blank",rel:"noopener noreferrer"},L)),s.a.createElement("li",null,s.a.createElement("strong",null,"版权声明："),"本博客所有文章除特别声明外，均采用",s.a.createElement("a",{href:"https://creativecommons.org/licenses/by-nc-sa/3.0/",target:"_blank",rel:"noopener noreferrer"},"CC BY-NC-SA 3.0")," ","许可协议。转载请注明出处！")),s.a.createElement("section",{className:"post-info"},s.a.createElement(h,{title:v.title,url:L}),s.a.createElement("aside",{className:"post-tags"},v.tags&&v.tags.map((function(e){return s.a.createElement(i.Link,{key:e,to:"/tag/"+l()(e)+"/"},e)}))),s.a.createElement("div",{className:"clear"}),s.a.createElement("aside",{className:"post-author"},s.a.createElement(p.a,{className:"post-author-avatar avatar",avatar:I.avatar,name:I.id}),s.a.createElement("div",{className:"post-author-bio"},s.a.createElement("h4",{className:"post-author-name"},s.a.createElement(i.Link,{to:"/author/"+l()(I.id)+"/"},I.id)),s.a.createElement(u.a,{bio:I.bio,location:I.location,website:I.website,twitter:I.twitter,facebook:I.facebook,github:I.github,weibo:I.weibo})),s.a.createElement("div",{className:"clear"}))),v.comments&&s.a.createElement(k,{showComments:v.comments,title:v.title,slug:S}),s.a.createElement("aside",{className:"post-nav"},g&&s.a.createElement(i.Link,{className:"post-nav-prev",to:g},s.a.createElement("section",{className:"post-nav-teaser"},s.a.createElement("i",{className:"icon icon-arrow-left"}),s.a.createElement("h2",{className:"post-nav-title"},a.frontmatter.title),s.a.createElement("p",{className:"post-nav-excerpt"},a.excerpt,"…"))),d&&s.a.createElement(i.Link,{className:"post-nav-next",to:d},s.a.createElement("section",{className:"post-nav-teaser"},s.a.createElement("i",{className:"icon icon-arrow-right"}),s.a.createElement("h2",{className:"post-nav-title"},r.frontmatter.title),s.a.createElement("p",{className:"post-nav-excerpt"},r.excerpt,"…"))),s.a.createElement("div",{className:"clear"}))))))},t}(s.a.PureComponent),j="3342617962"}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-246557137acb5ad0511c.js.map